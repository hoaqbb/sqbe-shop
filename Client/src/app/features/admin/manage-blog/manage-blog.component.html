<div class="d-flex align-items-center justify-content-between mb-4">
  <h1 class="h3 mb-0 text-dark">Quản lý bài viết</h1>
</div>

<div class="container" style="margin: auto auto">
  <!-- <div *ngIf="paginatedOrders" class="card-wrap"> -->
  <div class="card-wrap">
    <div class="card">
      <p-table [value]="blogs" rowHover="true">
        <ng-template pTemplate="caption">
          <div class="d-flex justify-content-end mx-3">
            <button class="btn btn-success" routerLink="create">
              Thêm bài viết <i class="pi pi-plus"></i>
            </button>
          </div>
          <div class="d-flex justify-content-end gap-5 px-5"></div>
        </ng-template>
        <ng-template pTemplate="header">
          <tr>
            <th>Id</th>
            <th>Tiêu đề</th>
            <th>Thumbnail</th>
            <th>Url</th>
            <th>Vắn tắt</th>
            <th pSortableColumn="amount">
              Ngày tạo<p-sortIcon field="amount" />
            </th>
            <th>Ngày cập nhật</th>
            <th pSortableColumn="status">
              Trạng thái<p-sortIcon field="status" />
            </th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-blog>
          <tr>
            <td>{{ blog.id }}</td>
            <td>{{ blog.title }}</td>
            <td>
              <img
                src="{{
                  blog.thumbnailUrl || '../../../../../assets/no-image.svg'
                }}"
                style="width: 100px"
              />
            </td>
            <td>{{ blog.slug }}</td>
            <td>{{ blog.excerpt }}</td>
            <td>{{ blog.createAt | date : "dd/MM/yyyy HH:mm a" }}</td>
            <td>{{ blog.updateAt | date : "dd/MM/yyyy HH:mm a" }}</td>
            <td class="text-center">
              @switch (blog.status) { @case (true) {
              <p-button
                icon="pi pi-check"
                [rounded]="true"
                [text]="true"
                severity="success"
              />
              } @case (false) {
              <p-button
                icon="pi pi-times"
                [rounded]="true"
                [text]="true"
                severity="danger"
              />
              } }
            </td>
            <td>
              <p-button
                icon="pi pi-pencil"
                [style]=""
                [rounded]="true"
                [outlined]="true"
                severity="success"
                (onClick)="manageUpdateForm(category)"
              />

              <p-button
                icon="pi pi-trash"
                severity="danger"
                [rounded]="true"
                [outlined]="true"
                (onClick)="deleteConfirmationDialog(category.id)"
              />
            </td>
          </tr>
        </ng-template>
      </p-table>
      <!-- @if(paginatedOrders) {
      <div class="flex justify-content-center">
        <p-paginator
          (onPageChange)="pageChanged($event)"
          [alwaysShow]="false"
          [rows]="paginatedOrders.pageSize"
          [totalRecords]="paginatedOrders.totalCount"
          [first]="(paginatedOrders.pageIndex - 1) * paginatedOrders.pageSize"
        />
      </div>
      } -->
    </div>
  </div>
</div>
